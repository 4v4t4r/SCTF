{% extends "sctf/base.html" %}
{% block title %}Security CTF | User Profile{% endblock %}
{% block content %}
{% load static %}


<!-- page content -->
<div class="right_col" role="main">
  <div class="">
    <div class="page-title">
      <div class="title_left">
      </div>      
    </div>
    <div class="clearfix"></div>
    
    
    <div class="clearfix"></div>

    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
          <div class="x_title">
            <h2 class="green">USER PROFILE</small></h2>
            <ul class="nav navbar-right panel_toolbox">
              <li style="margin-left: 46px;"><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div class="col-md-3 col-sm-3 col-xs-12 profile_left">
              <div class="profile_img">
                <div id="crop-avatar">
                  <!-- Current avatar -->
                  <img class="img-responsive avatar-view" src="/{{ user.profile.image.url }}" alt="Avatar" title="Change the avatar">
                </div>
              </div>
              <h3>{{user}}</h3>

              <ul class="list-unstyled user_data">
                <li><i class="fa fa-map-marker user-profile-icon"></i> San Francisco, California, USA
                </li>

                <li>
                  <i class="fa fa-briefcase user-profile-icon"></i> Software Engineer
                </li>

                <li class="m-top-xs">
                  <i class="fa fa-external-link user-profile-icon"></i>
                  <a href="http://www.kimlabs.com/profile/" target="_blank">www.kimlabs.com</a>
                </li>

                <li class="m-top-xs">
                  <i class="fa fa-external-link user-profile-icon"></i>
                  <a href="http://www.kimlabs.com/profile/" target="_blank">{{user.email}}</a>
                </li>
              </ul>

              <a class="btn btn-success"><i class="fa fa-edit m-right-xs"></i>Edit Profile</a>
              <br />

              <!-- start skills -->
              <h4>Skills</h4>
              <ul class="list-unstyled user_data">
                <li>
                  <p>Web Applications</p>
                  <div class="progress progress_sm">
                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="50"></div>
                  </div>
                </li>
                <li>
                  <p>Website Design</p>
                  <div class="progress progress_sm">
                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="70"></div>
                  </div>
                </li>
                <li>
                  <p>Automation & Testing</p>
                  <div class="progress progress_sm">
                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="30"></div>
                  </div>
                </li>
                <li>
                  <p>UI / UX</p>
                  <div class="progress progress_sm">
                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="50"></div>
                  </div>
                </li>
              </ul>
              <!-- end of skills -->

            </div>

            <div class="col-md-9 col-sm-9 col-xs-12">
              <div class="x_panel">
                <div class="x_title">
                  <h2 class="green">YOUR STRENGTHS</h2>
                  <ul class="nav navbar-right panel_toolbox">
                    <li style="margin-left: 46px;"><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <canvas id="canvasRadar"></canvas>
                </div>
              </div>
            </div>

            <div class="col-md-9 col-sm-9 col-xs-12">

              <div class="profile_title">
                <div class="col-md-6">
                  <h2>User Activity Report</h2>
                </div>
                <div class="col-md-6">
                  <div id="reportrange" class="pull-right" style="margin-top: 5px; background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #E6E9ED">
                    <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
                    <span>December 30, 2014 - January 28, 2015</span> <b class="caret"></b>
                  </div>
                </div>
              </div>
              <!-- start of user-activity-graph -->
              <div id="graph_bar" style="width:100%; height:280px;"></div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /page content -->

{% endblock %}

{% block extra_js %}

<!-- Tables (Solves, Team Components) init -->
<script type="text/javascript">
  $(document).ready(function() {
    init_morris_charts();
    init_Radar();
    
  });
</script>

<script type="text/javascript">
 function init_Radar() {
  console.log('run_charts  typeof [' + typeof (Chart) + ']');
  if( typeof (Chart) === 'undefined'){ return; }
  console.log('init_charts');
  Chart.defaults.global.legend = {
    enabled: false
  };

   // Radar chart

   if ($('#canvasRadar').length ){ 

    var ctx = document.getElementById("canvasRadar");
    var data = {
      labels: JSON.parse("{{ categories_names | escapejs }}"),
      datasets: [{
        label: "My Second dataset",
        backgroundColor: "rgba(38, 185, 154, 0.2)",
        borderColor: "rgba(38, 185, 154, 0.85)",
        pointColor: "rgba(38, 185, 154, 0.85)",
        pointStrokeColor: "#fff",
        pointHighlightFill: "#fff",
        pointHighlightStroke: "rgba(151,187,205,1)",
        data: JSON.parse("{{ categories_num_done_user | escapejs }}")
      }]
    };

    var canvasRadar = new Chart(ctx, {
      type: 'radar',
      data: data,
    });

  }
}
</script>

<script type="text/javascript">
  function init_morris_charts() {

    if( typeof (Morris) === 'undefined'){ return; }
    console.log('init_morris_charts');

    if ($('#graph_bar').length){ 

      Morris.Bar({
        element: 'graph_bar',
        data: [
        {device: 'iPhone 4', geekbench: 380},
        {device: 'iPhone 4S', geekbench: 655},
        {device: 'iPhone 3GS', geekbench: 275},
        {device: 'iPhone 5', geekbench: 1571},
        {device: 'iPhone 5S', geekbench: 655},
        {device: 'iPhone 6', geekbench: 2154},
        {device: 'iPhone 6 Plus', geekbench: 1144},
        {device: 'iPhone 6S', geekbench: 2371},
        {device: 'iPhone 6S Plus', geekbench: 1471},
        {device: 'Other', geekbench: 1371}
        ],
        xkey: 'device',
        ykeys: ['geekbench'],
        labels: ['Geekbench'],
        barRatio: 0.4,
        barColors: ['#26B99A', '#34495E', '#ACADAC', '#3498DB'],
        xLabelAngle: 35,
        hideHover: 'auto',
        resize: true
      });

    } 

  }
</script>
{% endblock %}